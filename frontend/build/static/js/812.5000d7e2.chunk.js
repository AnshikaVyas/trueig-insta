(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[812],{6996:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var n=s(1413),r=s(70885),a=s(72791),c=s(16030),l=s(56960),i=s(62129),o=s(91139),u=s(10295),m=s(15861),d=s(87757),x=s.n(d),f=s(43504),h=s(94487),p=s(74588),j=s(48950),v=s(47455),g=s(74569),b=s.n(g),w=s(72426),N=s.n(w),y=s(80184),k=function(e){var t=e._id,s=e.caption,n=e.likes,l=e.comments,o=e.image,u=e.postedBy,d=e.savedBy,g=e.createdAt,w=e.setUsersDialog,k=e.setUsersList,Z=(0,c.I0)(),S=(0,a.useRef)(null),A=(0,c.v9)((function(e){return e.user})).user,C=(0,a.useState)(n),U=(0,r.Z)(C,2),T=U[0],_=U[1],E=(0,a.useState)(l),P=(0,r.Z)(E,2),F=P[0],I=P[1],O=(0,a.useState)(d),D=(0,r.Z)(O,2),L=D[0],M=D[1],Y=(0,a.useState)(!1),z=(0,r.Z)(Y,2),B=z[0],H=z[1],J=(0,a.useState)(!1),R=(0,r.Z)(J,2),K=R[0],V=R[1],q=(0,a.useState)(""),G=(0,r.Z)(q,2),Q=G[0],W=G[1],X=(0,a.useState)(!1),$=(0,r.Z)(X,2),ee=$[0],te=$[1],se=(0,a.useState)(!1),ne=(0,r.Z)(se,2),re=ne[0],ae=ne[1],ce=(0,a.useState)(!1),le=(0,r.Z)(ce,2),ie=le[0],oe=le[1],ue=function(){var e=(0,m.Z)(x().mark((function e(){var s,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!B),e.next=3,Z((0,i.n9)(t));case 3:return e.next=5,b().get("/api/v1/post/detail/".concat(t));case 5:s=e.sent,n=s.data,_(n.post.likes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,m.Z)(x().mark((function e(s){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,Z((0,i.Ir)(t,Q));case 3:return W(""),e.next=6,b().get("/api/v1/post/detail/".concat(t));case 6:n=e.sent,r=n.data,I(r.post.comments);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,m.Z)(x().mark((function e(){var s,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!K),e.next=3,Z((0,i.TJ)(t));case 3:return e.next=5,b().get("/api/v1/post/detail/".concat(t));case 5:s=e.sent,n=s.data,M(n.post.savedBy);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){H(T.some((function(e){return e._id===A._id})))}),[T]),(0,a.useEffect)((function(){V(L.some((function(e){return e===A._id})))}),[L]),(0,y.jsxs)("div",{className:"flex flex-col border rounded bg-white relative",children:[(0,y.jsxs)("div",{className:"flex justify-between px-3 py-2.5 border-b items-center",children:[(0,y.jsxs)("div",{className:"flex space-x-3 items-center",children:[(0,y.jsx)(f.rU,{to:"/".concat(u.username),children:(0,y.jsx)("img",{draggable:"false",className:"w-10 h-10 rounded-full object-cover",src:u.avatar,alt:"avatar"})}),(0,y.jsx)(f.rU,{to:"/".concat(u.username),className:"text-black text-sm font-semibold",children:u.username})]}),(0,y.jsx)("span",{className:"cursor-pointer",children:p.hf})]}),(0,y.jsxs)("div",{className:"relative flex items-center justify-center",onDoubleClick:function(){oe(!0),setTimeout((function(){oe(!1)}),500),B||ue()},children:[(0,y.jsx)("img",{draggable:"false",loading:"lazy",className:"w-full h-full object-cover object-center",src:o,alt:"post image"}),ie&&(0,y.jsx)("img",{draggable:"false",height:"80px",className:"likeEffect",alt:"heart",src:"https://img.icons8.com/ios-filled/2x/ffffff/like.png"})]}),(0,y.jsxs)("div",{className:"flex flex-col px-4 space-y-1 border-b pb-2 mt-2",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,y.jsxs)("div",{className:"flex space-x-4",children:[(0,y.jsx)("button",{onClick:ue,children:B?h.Uw:p.XO}),(0,y.jsx)("button",{onClick:function(){return S.current.focus()},children:p.CN}),p.Si]}),(0,y.jsx)("button",{onClick:de,children:K?p.wM:p.x0})]}),(0,y.jsxs)("span",{onClick:function(){w(!0),k(T)},className:"font-semibold text-sm cursor-pointer",children:[T.length," likes"]}),(0,y.jsxs)("div",{className:"flex flex-auto items-center space-x-1",children:[(0,y.jsx)(f.rU,{to:"/".concat(u.username),className:"text-sm font-semibold hover:underline",children:u.username}),(0,y.jsx)("span",{className:"text-sm truncate",children:s})]}),F.length>0?(0,y.jsx)("span",{onClick:function(){return te(!ee)},className:"text-[13px] text-gray-500 cursor-pointer",children:ee?"Hide Comments":1===F.length?"View ".concat(F.length," Comment"):"View All ".concat(F.length," Comments")}):(0,y.jsx)("span",{className:"text-[13px] text-gray-500",children:"No Comments Yet!"}),(0,y.jsx)("span",{className:"text-xs text-gray-500 cursor-pointer",children:N()(g).fromNow()}),ee&&(0,y.jsx)(v.ZP,{className:"w-full h-52 overflow-y-auto py-1",children:F.map((function(e){return(0,y.jsxs)("div",{className:"flex items-start mb-2 space-x-2",children:[(0,y.jsx)("img",{draggable:"false",className:"h-7 w-7 rounded-full object-cover mr-0.5",src:e.user.avatar,alt:"avatar"}),(0,y.jsx)(f.rU,{to:"/".concat(e.user),className:"text-sm font-semibold hover:underline",children:e.user.username}),(0,y.jsx)("p",{className:"text-sm",children:e.comment})]},e._id)}))})]}),(0,y.jsxs)("form",{onSubmit:me,className:"flex items-center justify-between p-3 w-full space-x-3",children:[(0,y.jsx)("span",{onClick:function(){return ae(!re)},className:"cursor-pointer",children:p._1}),re&&(0,y.jsx)("div",{className:"absolute bottom-12 -left-2",children:(0,y.jsx)(j.cW,{set:"google",onSelect:function(e){return W(Q+e.native)},title:"Emojis"})}),(0,y.jsx)("input",{className:"flex-auto text-sm outline-none border-none bg-transparent",type:"text",value:Q,ref:S,required:!0,onFocus:function(){return ae(!1)},onChange:function(e){return W(e.target.value)},placeholder:"Add a comment..."}),(0,y.jsx)("button",{type:"submit",className:"".concat(Q.trim().length<1?"text-blue-300":"text-primary-blue"," text-sm font-semibold"),disabled:Q.trim().length<1,children:"Post"})]})]})},Z=s(95717),S=(s(53037),s(28688),s(53585)),A=function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z.Z,(0,n.Z)((0,n.Z)({},{dots:!1,infinite:!1,speed:500,slidesToShow:7.5,slidesToScroll:3,responsive:[{breakpoint:1050,settings:{slidesToShow:5,slidesToScroll:3}},{breakpoint:400,settings:{slidesToShow:4,slidesToScroll:2}}]}),{},{className:"w-full bg-white pt-2.5 pb-1 px-2.5 flex overflow-hidden border rounded",children:S.O.map((function(e,t){return(0,y.jsxs)("div",{className:"flex flex-col text-center justify-center items-center p-2 cursor-pointer",children:[(0,y.jsx)("div",{className:"w-16 p-[1px] h-16 rounded-full border-2 border-red-500",children:(0,y.jsx)("img",{loading:"lazy",className:"rounded-full h-full w-full border border-gray-300 object-cover",src:s(17487)("./".concat(e.image,".webp")),draggable:"false",alt:"story"})}),(0,y.jsx)("span",{className:"text-xs",children:e.title})]},t)}))}))})},C=s(14771),U=s(73356),T=s(47047),_=function(){return(0,y.jsxs)("div",{className:"flex flex-col border w-full my-4 rounded bg-white",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,y.jsx)(T.Z,{animation:"wave",variant:"circular",width:40,height:40}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)(T.Z,{height:10,variant:"rectangular",width:"25%",animation:"wave"}),(0,y.jsx)(T.Z,{height:10,variant:"rectangular",width:"20%",animation:"wave"})]})]}),(0,y.jsx)(T.Z,{sx:{height:520},animation:"wave",variant:"rectangular"})]})},E=function(){var e=(0,c.I0)(),t=(0,a.useState)([]),s=(0,r.Z)(t,2),m=s[0],d=s[1],x=(0,a.useState)(!1),f=(0,r.Z)(x,2),h=f[0],p=f[1],j=(0,a.useState)(2),v=(0,r.Z)(j,2),g=v[0],b=v[1],w=(0,c.v9)((function(e){return e.postOfFollowing})),N=w.loading,Z=w.error,S=w.posts,T=w.totalPosts,E=(0,c.v9)((function(e){return e.likePost})),P=E.error,F=E.message,I=E.success,O=(0,c.v9)((function(e){return e.newComment})),D=O.error,L=O.success,M=(0,c.v9)((function(e){return e.savePost})),Y=M.error,z=M.success,B=M.message;(0,a.useEffect)((function(){Z&&(l.Am.error(Z),e((0,i.b9)())),e((0,i.xm)()),e({type:o.T_})}),[e,Z]),(0,a.useEffect)((function(){P&&(l.Am.error(P),e((0,i.b9)())),I&&(l.Am.success(F),e({type:o.c2})),D&&(l.Am.error(D),e((0,i.b9)())),L&&(l.Am.success("Comment Added"),e({type:o.j4})),Y&&(l.Am.error(Y),e((0,i.b9)())),z&&(l.Am.success(B),e({type:o.Y9}))}),[e,I,P,F,D,L,Y,z,B]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"flex flex-col w-full lg:w-2/3 sm:mt-6 sm:px-8 mb-8",children:[(0,y.jsx)(A,{}),N&&Array(5).fill("").map((function(e,t){return(0,y.jsx)(_,{},t)})),(0,y.jsx)(C.Z,{dataLength:S.length,next:function(){b((function(e){return e+1})),e((0,i.xm)(g))},hasMore:S.length!==T,loader:(0,y.jsx)(U.Z,{}),children:(0,y.jsx)("div",{className:"w-full h-full mt-1 sm:mt-6 flex flex-col space-y-4",children:null===S||void 0===S?void 0:S.map((function(e){return(0,y.jsx)(k,(0,n.Z)((0,n.Z)({},e),{},{setUsersDialog:p,setUsersList:d}),e._id)}))})}),(0,y.jsx)(u.Z,{title:"Likes",open:h,onClose:function(){return p(!1)},usersList:m})]})})},P=s(37689),F=s(38278),I=s(56503),O=function(e){var t=e._id,s=e.username,n=e.avatar,l=(0,c.I0)(),i=(0,a.useState)(!1),o=(0,r.Z)(i,2),u=o[0],m=o[1];return(0,y.jsxs)("div",{className:"flex justify-between items-center",children:[(0,y.jsxs)("div",{className:"flex space-x-3 items-center",children:[(0,y.jsx)(f.rU,{to:"/".concat(s),children:(0,y.jsx)("img",{draggable:"false",className:"w-9 h-9 rounded-full object-cover",src:n,alt:"avatar"})}),(0,y.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,y.jsx)(f.rU,{to:"/".concat(s),className:"text-black text-sm font-semibold hover:underline",children:s}),(0,y.jsx)("span",{className:"text-gray-400 text-xs",children:"New to Instagram"})]})]}),(0,y.jsx)("button",{onClick:function(){m(!u),l((0,P.P_)(t))},className:"".concat(u?"text-red-500":"text-blue-500"," text-xs font-medium"),children:u?"Unfollow":"Follow"})]})},D=function(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.user})).user,s=(0,c.v9)((function(e){return e.allUsers})),r=s.error,i=s.users,o=s.loading,u=(0,c.v9)((function(e){return e.followUser})),m=u.error,d=u.success,x=u.message;return(0,a.useEffect)((function(){r&&(l.Am.error(r),e((0,P.b9)())),e((0,P.mf)())}),[e,r]),(0,a.useEffect)((function(){m&&(l.Am.error(m),e((0,P.b9)())),d&&(l.Am.success(x),e({type:F.y9}))}),[d,m]),(0,y.jsx)("div",{className:"fixed lg:right-32 xl:right-56 w-3/12 h-full hidden lg:flex flex-col flex-auto m-8 mt-12 pr-8 -z-1",children:(0,y.jsxs)("div",{className:"ml-10 flex flex-col p-2",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center",children:[(0,y.jsxs)("div",{className:"flex flex-auto space-x-4 items-center",children:[(0,y.jsx)(f.rU,{to:"/".concat(t.username),children:(0,y.jsx)("img",{draggable:"false",className:"w-14 h-14 rounded-full object-cover",src:t.avatar,alt:t.name})}),(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)(f.rU,{to:"/".concat(t.username),className:"text-black text-sm font-semibold",children:t.username}),(0,y.jsx)("span",{className:"text-gray-400 text-sm",children:t.name})]})]}),(0,y.jsx)("span",{className:"text-blue-500 text-xs font-semibold cursor-pointer",children:"Switch"})]}),(0,y.jsxs)("div",{className:"flex justify-between items-center mt-5",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-500 text-sm",children:"Suggestions For You"}),(0,y.jsx)("span",{className:"text-black text-xs font-semibold cursor-pointer",children:"See All"})]}),(0,y.jsx)("div",{className:"flex flex-col flex-auto mt-3 space-y-3.5",children:o?Array(5).fill("").map((function(e,t){return(0,y.jsx)(I.Z,{},t)})):null===i||void 0===i?void 0:i.map((function(e){return(0,a.createElement)(O,(0,n.Z)((0,n.Z)({},e),{},{key:e._id}))}))}),(0,y.jsxs)("div",{className:"flex flex-col mt-8 space-y-6 text-xs text-gray-400",children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("div",{className:"flex items-center space-x-1.5",children:["About","Help","Press","API","Jobs","Privacy","Terms","Locations"].map((function(e,t){return(0,y.jsx)("a",{href:"#",children:e},t)}))}),(0,y.jsx)("div",{className:"flex items-center space-x-1.5",children:["Top Accounts","Hashtags","Language"].map((function(e,t){return(0,y.jsx)("a",{href:"#",children:e},t)}))})]}),(0,y.jsxs)("span",{children:["\xa9 ",(new Date).getFullYear()," INSTAGRAM FROM META"]})]})]})})},L=s(6038),M=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L.Z,{title:"Instagram"}),(0,y.jsxs)("div",{className:"flex h-full md:w-4/5 lg:w-4/6 mt-14 mx-auto",children:[(0,y.jsx)(E,{}),(0,y.jsx)(D,{})]})]})}},56503:function(e,t,s){"use strict";var n=s(47047),r=s(80184);t.Z=function(){return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.Z,{animation:"wave",variant:"circular",width:45,height:40}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsx)(n.Z,{height:15,variant:"rectangular",width:"60%",animation:"wave"}),(0,r.jsx)(n.Z,{height:12,variant:"rectangular",width:"30%",animation:"wave"})]})]})}},53585:function(e,t,s){"use strict";s.d(t,{O:function(){return r},Q:function(){return n}});var n="https://instagrammern.herokuapp.com",r=[{title:"Caroline",image:"caroline"},{title:"Demon",image:"demon"},{title:"John Cena",image:"john-cena"},{title:"Katherene",image:"katherene"},{title:"Klaus",image:"klaus"},{title:"Stefen",image:"stefen"},{title:"Peter Parker",image:"man"}]},17487:function(e,t,s){var n={"./caroline.webp":96951,"./demon.webp":77632,"./john-cena.webp":44861,"./katherene.webp":52547,"./klaus.webp":34250,"./man.webp":72020,"./stefen.webp":25175};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=17487},96951:function(e,t,s){"use strict";e.exports=s.p+"static/media/caroline.90e6e4b22b05dedb0f88.webp"},77632:function(e,t,s){"use strict";e.exports=s.p+"static/media/demon.d9b0779a31724c48b715.webp"},44861:function(e,t,s){"use strict";e.exports=s.p+"static/media/john-cena.caf5c72119feb5c7d5e4.webp"},52547:function(e,t,s){"use strict";e.exports=s.p+"static/media/katherene.060432206fb41fe038de.webp"},34250:function(e,t,s){"use strict";e.exports=s.p+"static/media/klaus.be00f069348e83e0a9b4.webp"},72020:function(e,t,s){"use strict";e.exports=s.p+"static/media/man.ab76ef6005bf3a43d926.webp"},25175:function(e,t,s){"use strict";e.exports=s.p+"static/media/stefen.9c4b29d12550dc878588.webp"}}]);
//# sourceMappingURL=812.5000d7e2.chunk.js.map